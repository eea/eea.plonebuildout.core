[buildout]
extends =
    base.cfg

[configuration]
relstorage-address = 127.0.0.1:5432
relstorage-dbname = datafs
relstorage-user = zope
relstorage-password = zope
relstorage-blob-cache-size = 350MB
relstorage-poll-interval = 0
dbclient-environment-vars +=

eggs +=
  RelStorage
  psycopg2
  pylibmc

[dbclient]
zeo-client = false
rel-storage =
  type postgresql
  host ${configuration:relstorage-address}
  dbname ${configuration:relstorage-dbname}
  user ${configuration:relstorage-user}
  password ${configuration:relstorage-password}
  blob-dir ${configuration:blob-storage}
  blob-cache-size ${configuration:relstorage-blob-cache-size}
  poll-interval ${configuration:relstorage-poll-interval}
  cache-servers ${configuration:memcache-address}:${buildout:memcache-port}
  cache-prefix ${configuration:relstorage-dbname}
